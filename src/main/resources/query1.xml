<?xml version="1.0" encoding="UTF-8"?>
<xdmview name="myView">

<!--    <source type="mysql" url="jdbc:mysql://localhost:3306/market" name="market" username="root" password="1234" />-->
<!--    <source type="mysql" url="jdbc:mysql://localhost:3306/market" name="shop" username="root" password="1234" />-->
<!--    <source type="json" url="./test.json" name="test" />-->

    <data>
        <mysql url="jdbc:mysql://localhost:3306/market" name="market" username="root" password="1234" />
        <mysql url="jdbc:mysql://localhost:3306/market" name="market" username="root" password="1234" />
        <json url="./test.json" local="true" name="test" />
        <xml url="/home/albus/Documents/students.xml" local="true" name="pupils" />
    </data>

    <view>
        <base name="market_data" source="market" table="students">
            <field conditions="" selected="true">first_name</field>
            <field conditions="" selected="false">last_name</field>
            <field conditions="" selected="true">email</field>
        </base>

        <base name="shop_data" source="shop" table="students">
            <field conditions="" selected="true">first_name</field>
            <field conditions="" selected="false">last_name</field>
            <field conditions="" selected="true">email</field>
        </base>

        <base name="test_data" source="test" table="students">
            <field conditions="" selected="true">first_name</field>
            <field conditions="" selected="false">last_name</field>
            <field conditions="" selected="true">email</field>
        </base>
    </view>

    <operation>
        <union name="all_students">
            <source>market_data</source>
            <source>shop_data</source>
            <source>test_data</source>
        </union>

        <join name="student_courses">
            <source on="id">all_students</source>
            <source on="course_id">courses</source>
        </join>
    </operation>
</xdmview>